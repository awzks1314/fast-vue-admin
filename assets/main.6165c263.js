var w=Object.defineProperty;var h=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var p=(e,o,t)=>o in e?w(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,d=(e,o)=>{for(var t in o||(o={}))L.call(o,t)&&p(e,t,o[t]);if(h)for(var t of h(o))$.call(o,t)&&p(e,t,o[t]);return e};import{u as H}from"./index.6243c594.js";import{x as S,D as b,a as v,z as I,A as j,B as g,t as F,g as T,e as s,f as i,h as u,S as R,w as V,v as B,i as y,E as m}from"./vendor.445db117.js";import G from"./index.6a240d78.js";import P from"./parent.6e13c086.js";import D from"./link.e0fbc04b.js";import N from"./iframes.4fc6a55d.js";var C=S({name:"LayoutMain",components:{Footer:G,LayoutParentView:P,Link:D,Iframes:N},setup(){const{proxy:e}=T(),o=H(),t=b(),a=v({headerHeight:"",currentRouteMeta:{},isShowLink:!1}),f=I(()=>o.state.themeConfig.themeConfig),l=()=>{n(t.meta)},n=r=>{a.isShowLink=!1,a.currentRouteMeta=r,setTimeout(()=>{a.isShowLink=!0},100)},c=()=>{const{isTagsview:r}=o.state.themeConfig.themeConfig;return r?a.headerHeight="84px":a.headerHeight="50px"};return j(()=>{n(t.meta),c()}),g(o.state.themeConfig.themeConfig,r=>{if(a.headerHeight=r.isTagsview?"84px":"50px",r.isFixedHeaderChange!==r.isFixedHeader){if(!e.$ref.layoutScrollbarRef)return!1;e.$refs.layoutScrollbarRef.update()}}),g(()=>t.path,()=>{n(t.meta),e.$refs.layoutScrollbarRef.wrap.scrollTop=0}),d({getThemeConfig:f,initCurrentRouteMeta:n,onGetCurrentRouteMeta:l},F(a))}});function z(e,o,t,a,f,l){const n=s("LayoutParentView"),c=s("Footer"),r=s("el-scrollbar"),M=s("Link"),k=s("Iframes"),_=s("el-main");return i(),u(_,{class:"layout-main"},{default:R(()=>[V(y(r,{class:"layout-scrollbar",ref:"layoutScrollbarRef",style:{minHeight:`calc(100vh - ${e.headerHeight}`}},{default:R(()=>[y(n),e.getThemeConfig.isFooter?(i(),u(c,{key:0})):m("",!0)]),_:1},8,["style"]),[[B,!e.currentRouteMeta.isLink&&!e.currentRouteMeta.isIframe]]),e.currentRouteMeta.isLink&&!e.currentRouteMeta.isIframe?(i(),u(M,{key:0,style:{height:`calc(100vh - ${e.headerHeight}`},meta:e.currentRouteMeta},null,8,["style","meta"])):m("",!0),e.currentRouteMeta.isLink&&e.currentRouteMeta.isIframe&&e.isShowLink?(i(),u(k,{key:1,style:{height:`calc(100vh - ${e.headerHeight}`},meta:e.currentRouteMeta,onGetCurrentRouteMeta:e.onGetCurrentRouteMeta},null,8,["style","meta","onGetCurrentRouteMeta"])):m("",!0)]),_:1})}C.render=z;export default C;
