var $e=Object.defineProperty;var _e=Object.getOwnPropertySymbols;var Ze=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable;var Se=(n,t,e)=>t in n?$e(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,dt=(n,t)=>{for(var e in t||(t={}))Ze.call(t,e)&&Se(n,e,t[e]);if(_e)for(var e of _e(t))Qe.call(t,e)&&Se(n,e,t[e]);return n};import{u as Je,S as Ft}from"./index.6243c594.js";import{r as Bt,D as Ke,X as tn,a as en,z as Ce,B as nn,A as on,b as an,$ as rn,o as ln,Y as sn,t as un,g as cn,n as De,p as fn,d as dn,e as Te,f as at,h as it,i as _t,F as xe,W as hn,j as St,E as Ct,l as pn,q as gn}from"./vendor.445db117.js";import{s as mn}from"./screenfull.23c35388.js";import vn from"./contextmenu.1ee0d478.js";/**!
 * Sortable 1.13.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Xt(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xt=function(t){return typeof t}:Xt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xt(n)}function bn(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function tt(){return tt=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},tt.apply(this,arguments)}function rt(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{},o=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),o.forEach(function(a){bn(n,a,e[a])})}return n}function wn(n,t){if(n==null)return{};var e={},o=Object.keys(n),a,r;for(r=0;r<o.length;r++)a=o[r],!(t.indexOf(a)>=0)&&(e[a]=n[a]);return e}function yn(n,t){if(n==null)return{};var e=wn(n,t),o,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,o)||(e[o]=n[o]))}return e}var En="1.13.0";function et(n){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(n)}var nt=et(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Dt=et(/Edge/i),Ie=et(/firefox/i),Tt=et(/safari/i)&&!et(/chrome/i)&&!et(/android/i),Ae=et(/iP(ad|od|hone)/i),_n=et(/chrome/i)&&et(/android/i),Oe={capture:!1,passive:!1};function S(n,t,e){n.addEventListener(t,e,!nt&&Oe)}function E(n,t,e){n.removeEventListener(t,e,!nt&&Oe)}function Yt(n,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),n)try{if(n.matches)return n.matches(t);if(n.msMatchesSelector)return n.msMatchesSelector(t);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function Sn(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function Z(n,t,e,o){if(n){e=e||document;do{if(t!=null&&(t[0]===">"?n.parentNode===e&&Yt(n,t):Yt(n,t))||o&&n===e)return n;if(n===e)break}while(n=Sn(n))}return null}var Pe=/\s+/g;function F(n,t,e){if(n&&t)if(n.classList)n.classList[e?"add":"remove"](t);else{var o=(" "+n.className+" ").replace(Pe," ").replace(" "+t+" "," ");n.className=(o+(e?" "+t:"")).replace(Pe," ")}}function p(n,t,e){var o=n&&n.style;if(o){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(e=n.currentStyle),t===void 0?e:e[t];!(t in o)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),o[t]=e+(typeof e=="string"?"":"px")}}function vt(n,t){var e="";if(typeof n=="string")e=n;else do{var o=p(n,"transform");o&&o!=="none"&&(e=o+" "+e)}while(!t&&(n=n.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(e)}function Ne(n,t,e){if(n){var o=n.getElementsByTagName(t),a=0,r=o.length;if(e)for(;a<r;a++)e(o[a],a);return o}return[]}function Q(){var n=document.scrollingElement;return n||document.documentElement}function O(n,t,e,o,a){if(!(!n.getBoundingClientRect&&n!==window)){var r,l,s,i,u,d,f;if(n!==window&&n.parentNode&&n!==Q()?(r=n.getBoundingClientRect(),l=r.top,s=r.left,i=r.bottom,u=r.right,d=r.height,f=r.width):(l=0,s=0,i=window.innerHeight,u=window.innerWidth,d=window.innerHeight,f=window.innerWidth),(t||e)&&n!==window&&(a=a||n.parentNode,!nt))do if(a&&a.getBoundingClientRect&&(p(a,"transform")!=="none"||e&&p(a,"position")!=="static")){var w=a.getBoundingClientRect();l-=w.top+parseInt(p(a,"border-top-width")),s-=w.left+parseInt(p(a,"border-left-width")),i=l+r.height,u=s+r.width;break}while(a=a.parentNode);if(o&&n!==window){var D=vt(a||n),y=D&&D.a,_=D&&D.d;D&&(l/=_,s/=y,f/=y,d/=_,i=l+d,u=s+f)}return{top:l,left:s,bottom:i,right:u,width:f,height:d}}}function Le(n,t,e){for(var o=lt(n,!0),a=O(n)[t];o;){var r=O(o)[e],l=void 0;if(e==="top"||e==="left"?l=a>=r:l=a<=r,!l)return o;if(o===Q())break;o=lt(o,!1)}return!1}function Wt(n,t,e){for(var o=0,a=0,r=n.children;a<r.length;){if(r[a].style.display!=="none"&&r[a]!==g.ghost&&r[a]!==g.dragged&&Z(r[a],e.draggable,n,!1)){if(o===t)return r[a];o++}a++}return null}function ee(n,t){for(var e=n.lastElementChild;e&&(e===g.ghost||p(e,"display")==="none"||t&&!Yt(e,t));)e=e.previousElementSibling;return e||null}function z(n,t){var e=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==g.clone&&(!t||Yt(n,t))&&e++;return e}function Re(n){var t=0,e=0,o=Q();if(n)do{var a=vt(n),r=a.a,l=a.d;t+=n.scrollLeft*r,e+=n.scrollTop*l}while(n!==o&&(n=n.parentNode));return[t,e]}function Cn(n,t){for(var e in n)if(!!n.hasOwnProperty(e)){for(var o in t)if(t.hasOwnProperty(o)&&t[o]===n[e][o])return Number(e)}return-1}function lt(n,t){if(!n||!n.getBoundingClientRect)return Q();var e=n,o=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var a=p(e);if(e.clientWidth<e.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return Q();if(o||t)return e;o=!0}}while(e=e.parentNode);return Q()}function Dn(n,t){if(n&&t)for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function ne(n,t){return Math.round(n.top)===Math.round(t.top)&&Math.round(n.left)===Math.round(t.left)&&Math.round(n.height)===Math.round(t.height)&&Math.round(n.width)===Math.round(t.width)}var xt;function ke(n,t){return function(){if(!xt){var e=arguments,o=this;e.length===1?n.call(o,e[0]):n.apply(o,e),xt=setTimeout(function(){xt=void 0},t)}}}function Tn(){clearTimeout(xt),xt=void 0}function Ve(n,t,e){n.scrollLeft+=t,n.scrollTop+=e}function Me(n){var t=window.Polymer,e=window.jQuery||window.Zepto;return t&&t.dom?t.dom(n).cloneNode(!0):e?e(n).clone(!0)[0]:n.cloneNode(!0)}var B="Sortable"+new Date().getTime();function xn(){var n=[],t;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(a){if(!(p(a,"display")==="none"||a===g.ghost)){n.push({target:a,rect:O(a)});var r=rt({},n[n.length-1].rect);if(a.thisAnimationDuration){var l=vt(a,!0);l&&(r.top-=l.f,r.left-=l.e)}a.fromRect=r}})}},addAnimationState:function(o){n.push(o)},removeAnimationState:function(o){n.splice(Cn(n,{target:o}),1)},animateAll:function(o){var a=this;if(!this.options.animation){clearTimeout(t),typeof o=="function"&&o();return}var r=!1,l=0;n.forEach(function(s){var i=0,u=s.target,d=u.fromRect,f=O(u),w=u.prevFromRect,D=u.prevToRect,y=s.rect,_=vt(u,!0);_&&(f.top-=_.f,f.left-=_.e),u.toRect=f,u.thisAnimationDuration&&ne(w,f)&&!ne(d,f)&&(y.top-f.top)/(y.left-f.left)==(d.top-f.top)/(d.left-f.left)&&(i=An(y,w,D,a.options)),ne(f,d)||(u.prevFromRect=d,u.prevToRect=f,i||(i=a.options.animation),a.animate(u,y,f,i)),i&&(r=!0,l=Math.max(l,i),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},i),u.thisAnimationDuration=i)}),clearTimeout(t),r?t=setTimeout(function(){typeof o=="function"&&o()},l):typeof o=="function"&&o(),n=[]},animate:function(o,a,r,l){if(l){p(o,"transition",""),p(o,"transform","");var s=vt(this.el),i=s&&s.a,u=s&&s.d,d=(a.left-r.left)/(i||1),f=(a.top-r.top)/(u||1);o.animatingX=!!d,o.animatingY=!!f,p(o,"transform","translate3d("+d+"px,"+f+"px,0)"),this.forRepaintDummy=In(o),p(o,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),p(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){p(o,"transition",""),p(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},l)}}}}function In(n){return n.offsetWidth}function An(n,t,e,o){return Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))/Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))*o.animation}var bt=[],oe={initializeByDefault:!0},It={mount:function(t){for(var e in oe)oe.hasOwnProperty(e)&&!(e in t)&&(t[e]=oe[e]);bt.forEach(function(o){if(o.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),bt.push(t)},pluginEvent:function(t,e,o){var a=this;this.eventCanceled=!1,o.cancel=function(){a.eventCanceled=!0};var r=t+"Global";bt.forEach(function(l){!e[l.pluginName]||(e[l.pluginName][r]&&e[l.pluginName][r](rt({sortable:e},o)),e.options[l.pluginName]&&e[l.pluginName][t]&&e[l.pluginName][t](rt({sortable:e},o)))})},initializePlugins:function(t,e,o,a){bt.forEach(function(s){var i=s.pluginName;if(!(!t.options[i]&&!s.initializeByDefault)){var u=new s(t,e,t.options);u.sortable=t,u.options=t.options,t[i]=u,tt(o,u.defaults)}});for(var r in t.options)if(!!t.options.hasOwnProperty(r)){var l=this.modifyOption(t,r,t.options[r]);typeof l!="undefined"&&(t.options[r]=l)}},getEventProperties:function(t,e){var o={};return bt.forEach(function(a){typeof a.eventProperties=="function"&&tt(o,a.eventProperties.call(e[a.pluginName],t))}),o},modifyOption:function(t,e,o){var a;return bt.forEach(function(r){!t[r.pluginName]||r.optionListeners&&typeof r.optionListeners[e]=="function"&&(a=r.optionListeners[e].call(t[r.pluginName],o))}),a}};function On(n){var t=n.sortable,e=n.rootEl,o=n.name,a=n.targetEl,r=n.cloneEl,l=n.toEl,s=n.fromEl,i=n.oldIndex,u=n.newIndex,d=n.oldDraggableIndex,f=n.newDraggableIndex,w=n.originalEvent,D=n.putSortable,y=n.extraEventProperties;if(t=t||e&&e[B],!!t){var _,V=t.options,$="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!nt&&!Dt?_=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(_=document.createEvent("Event"),_.initEvent(o,!0,!0)),_.to=l||e,_.from=s||e,_.item=a||e,_.clone=r,_.oldIndex=i,_.newIndex=u,_.oldDraggableIndex=d,_.newDraggableIndex=f,_.originalEvent=w,_.pullMode=D?D.lastPutMode:void 0;var L=rt({},y,It.getEventProperties(o,t));for(var Y in L)_[Y]=L[Y];e&&e.dispatchEvent(_),V[$]&&V[$].call(t,_)}}var M=function(t,e){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.evt,r=yn(o,["evt"]);It.pluginEvent.bind(g)(t,e,rt({dragEl:c,parentEl:I,ghostEl:m,rootEl:T,nextEl:ht,lastDownEl:Ht,cloneEl:x,cloneHidden:st,dragStarted:Ot,putSortable:P,activeSortable:g.active,originalEvent:a,oldIndex:wt,oldDraggableIndex:At,newIndex:X,newDraggableIndex:ut,hideGhostForTarget:qe,unhideGhostForTarget:ze,cloneNowHidden:function(){st=!0},cloneNowShown:function(){st=!1},dispatchSortableEvent:function(s){k({sortable:e,name:s,originalEvent:a})}},r))};function k(n){On(rt({putSortable:P,cloneEl:x,targetEl:c,rootEl:T,oldIndex:wt,oldDraggableIndex:At,newIndex:X,newDraggableIndex:ut},n))}var c,I,m,T,ht,Ht,x,st,wt,X,At,ut,qt,P,yt=!1,zt=!1,Gt=[],pt,U,ae,ie,Fe,Be,Ot,Et,Pt,Nt=!1,jt=!1,Ut,N,re=[],le=!1,$t=[],Zt=typeof document!="undefined",Qt=Ae,Xe=Dt||nt?"cssFloat":"float",Pn=Zt&&!_n&&!Ae&&"draggable"in document.createElement("div"),Ye=function(){if(!!Zt){if(nt)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),We=function(t,e){var o=p(t),a=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),r=Wt(t,0,e),l=Wt(t,1,e),s=r&&p(r),i=l&&p(l),u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+O(r).width,d=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+O(l).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s.float&&s.float!=="none"){var f=s.float==="left"?"left":"right";return l&&(i.clear==="both"||i.clear===f)?"vertical":"horizontal"}return r&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||u>=a&&o[Xe]==="none"||l&&o[Xe]==="none"&&u+d>a)?"vertical":"horizontal"},Nn=function(t,e,o){var a=o?t.left:t.top,r=o?t.right:t.bottom,l=o?t.width:t.height,s=o?e.left:e.top,i=o?e.right:e.bottom,u=o?e.width:e.height;return a===s||r===i||a+l/2===s+u/2},Ln=function(t,e){var o;return Gt.some(function(a){if(!ee(a)){var r=O(a),l=a[B].options.emptyInsertThreshold,s=t>=r.left-l&&t<=r.right+l,i=e>=r.top-l&&e<=r.bottom+l;if(l&&s&&i)return o=a}}),o},He=function(t){function e(r,l){return function(s,i,u,d){var f=s.options.group.name&&i.options.group.name&&s.options.group.name===i.options.group.name;if(r==null&&(l||f))return!0;if(r==null||r===!1)return!1;if(l&&r==="clone")return r;if(typeof r=="function")return e(r(s,i,u,d),l)(s,i,u,d);var w=(l?s:i).options.group.name;return r===!0||typeof r=="string"&&r===w||r.join&&r.indexOf(w)>-1}}var o={},a=t.group;(!a||Xt(a)!="object")&&(a={name:a}),o.name=a.name,o.checkPull=e(a.pull,!0),o.checkPut=e(a.put),o.revertClone=a.revertClone,t.group=o},qe=function(){!Ye&&m&&p(m,"display","none")},ze=function(){!Ye&&m&&p(m,"display","")};Zt&&document.addEventListener("click",function(n){if(zt)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),zt=!1,!1},!0);var gt=function(t){if(c){t=t.touches?t.touches[0]:t;var e=Ln(t.clientX,t.clientY);if(e){var o={};for(var a in t)t.hasOwnProperty(a)&&(o[a]=t[a]);o.target=o.rootEl=e,o.preventDefault=void 0,o.stopPropagation=void 0,e[B]._onDragOver(o)}}},Rn=function(t){c&&c.parentNode[B]._isOutsideThisEl(t.target)};function g(n,t){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=t=tt({},t),n[B]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return We(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,s){l.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:g.supportPointer!==!1&&"PointerEvent"in window&&!Tt,emptyInsertThreshold:5};It.initializePlugins(this,n,e);for(var o in e)!(o in t)&&(t[o]=e[o]);He(t);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=t.forceFallback?!1:Pn,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?S(n,"pointerdown",this._onTapStart):(S(n,"mousedown",this._onTapStart),S(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(S(n,"dragover",this),S(n,"dragenter",this)),Gt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),tt(this,xn())}g.prototype={constructor:g,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Et=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,c):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var e=this,o=this.el,a=this.options,r=a.preventOnFilter,l=t.type,s=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,i=(s||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||i,d=a.filter;if(Yn(o),!c&&!(/mousedown|pointerdown/.test(l)&&t.button!==0||a.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Tt&&i&&i.tagName.toUpperCase()==="SELECT")&&(i=Z(i,a.draggable,o,!1),!(i&&i.animated)&&Ht!==i)){if(wt=z(i),At=z(i,a.draggable),typeof d=="function"){if(d.call(this,t,i,this)){k({sortable:e,rootEl:u,name:"filter",targetEl:i,toEl:o,fromEl:o}),M("filter",e,{evt:t}),r&&t.cancelable&&t.preventDefault();return}}else if(d&&(d=d.split(",").some(function(f){if(f=Z(u,f.trim(),o,!1),f)return k({sortable:e,rootEl:f,name:"filter",targetEl:i,fromEl:o,toEl:o}),M("filter",e,{evt:t}),!0}),d)){r&&t.cancelable&&t.preventDefault();return}a.handle&&!Z(u,a.handle,o,!1)||this._prepareDragStart(t,s,i)}}},_prepareDragStart:function(t,e,o){var a=this,r=a.el,l=a.options,s=r.ownerDocument,i;if(o&&!c&&o.parentNode===r){var u=O(o);if(T=r,c=o,I=c.parentNode,ht=c.nextSibling,Ht=o,qt=l.group,g.dragged=c,pt={target:c,clientX:(e||t).clientX,clientY:(e||t).clientY},Fe=pt.clientX-u.left,Be=pt.clientY-u.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,c.style["will-change"]="all",i=function(){if(M("delayEnded",a,{evt:t}),g.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Ie&&a.nativeDraggable&&(c.draggable=!0),a._triggerDragStart(t,e),k({sortable:a,name:"choose",originalEvent:t}),F(c,l.chosenClass,!0)},l.ignore.split(",").forEach(function(d){Ne(c,d.trim(),ue)}),S(s,"dragover",gt),S(s,"mousemove",gt),S(s,"touchmove",gt),S(s,"mouseup",a._onDrop),S(s,"touchend",a._onDrop),S(s,"touchcancel",a._onDrop),Ie&&this.nativeDraggable&&(this.options.touchStartThreshold=4,c.draggable=!0),M("delayStart",this,{evt:t}),l.delay&&(!l.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(Dt||nt))){if(g.eventCanceled){this._onDrop();return}S(s,"mouseup",a._disableDelayedDrag),S(s,"touchend",a._disableDelayedDrag),S(s,"touchcancel",a._disableDelayedDrag),S(s,"mousemove",a._delayedDragTouchMoveHandler),S(s,"touchmove",a._delayedDragTouchMoveHandler),l.supportPointer&&S(s,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(i,l.delay)}else i()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){c&&ue(c),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;E(t,"mouseup",this._disableDelayedDrag),E(t,"touchend",this._disableDelayedDrag),E(t,"touchcancel",this._disableDelayedDrag),E(t,"mousemove",this._delayedDragTouchMoveHandler),E(t,"touchmove",this._delayedDragTouchMoveHandler),E(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?S(document,"pointermove",this._onTouchMove):e?S(document,"touchmove",this._onTouchMove):S(document,"mousemove",this._onTouchMove):(S(c,"dragend",this),S(T,"dragstart",this._onDragStart));try{document.selection?Jt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(o){}},_dragStarted:function(t,e){if(yt=!1,T&&c){M("dragStarted",this,{evt:e}),this.nativeDraggable&&S(document,"dragover",Rn);var o=this.options;!t&&F(c,o.dragClass,!1),F(c,o.ghostClass,!0),g.active=this,t&&this._appendGhost(),k({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(U){this._lastX=U.clientX,this._lastY=U.clientY,qe();for(var t=document.elementFromPoint(U.clientX,U.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(U.clientX,U.clientY),t!==e);)e=t;if(c.parentNode[B]._isOutsideThisEl(t),e)do{if(e[B]){var o=void 0;if(o=e[B]._onDragOver({clientX:U.clientX,clientY:U.clientY,target:t,rootEl:e}),o&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);ze()}},_onTouchMove:function(t){if(pt){var e=this.options,o=e.fallbackTolerance,a=e.fallbackOffset,r=t.touches?t.touches[0]:t,l=m&&vt(m,!0),s=m&&l&&l.a,i=m&&l&&l.d,u=Qt&&N&&Re(N),d=(r.clientX-pt.clientX+a.x)/(s||1)+(u?u[0]-re[0]:0)/(s||1),f=(r.clientY-pt.clientY+a.y)/(i||1)+(u?u[1]-re[1]:0)/(i||1);if(!g.active&&!yt){if(o&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}if(m){l?(l.e+=d-(ae||0),l.f+=f-(ie||0)):l={a:1,b:0,c:0,d:1,e:d,f};var w="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");p(m,"webkitTransform",w),p(m,"mozTransform",w),p(m,"msTransform",w),p(m,"transform",w),ae=d,ie=f,U=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!m){var t=this.options.fallbackOnBody?document.body:T,e=O(c,!0,Qt,!0,t),o=this.options;if(Qt){for(N=t;p(N,"position")==="static"&&p(N,"transform")==="none"&&N!==document;)N=N.parentNode;N!==document.body&&N!==document.documentElement?(N===document&&(N=Q()),e.top+=N.scrollTop,e.left+=N.scrollLeft):N=Q(),re=Re(N)}m=c.cloneNode(!0),F(m,o.ghostClass,!1),F(m,o.fallbackClass,!0),F(m,o.dragClass,!0),p(m,"transition",""),p(m,"transform",""),p(m,"box-sizing","border-box"),p(m,"margin",0),p(m,"top",e.top),p(m,"left",e.left),p(m,"width",e.width),p(m,"height",e.height),p(m,"opacity","0.8"),p(m,"position",Qt?"absolute":"fixed"),p(m,"zIndex","100000"),p(m,"pointerEvents","none"),g.ghost=m,t.appendChild(m),p(m,"transform-origin",Fe/parseInt(m.style.width)*100+"% "+Be/parseInt(m.style.height)*100+"%")}},_onDragStart:function(t,e){var o=this,a=t.dataTransfer,r=o.options;if(M("dragStart",this,{evt:t}),g.eventCanceled){this._onDrop();return}M("setupClone",this),g.eventCanceled||(x=Me(c),x.draggable=!1,x.style["will-change"]="",this._hideClone(),F(x,this.options.chosenClass,!1),g.clone=x),o.cloneId=Jt(function(){M("clone",o),!g.eventCanceled&&(o.options.removeCloneOnHide||T.insertBefore(x,c),o._hideClone(),k({sortable:o,name:"clone"}))}),!e&&F(c,r.dragClass,!0),e?(zt=!0,o._loopId=setInterval(o._emulateDragOver,50)):(E(document,"mouseup",o._onDrop),E(document,"touchend",o._onDrop),E(document,"touchcancel",o._onDrop),a&&(a.effectAllowed="move",r.setData&&r.setData.call(o,a,c)),S(document,"drop",o),p(c,"transform","translateZ(0)")),yt=!0,o._dragStartId=Jt(o._dragStarted.bind(o,e,t)),S(document,"selectstart",o),Ot=!0,Tt&&p(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,o=t.target,a,r,l,s=this.options,i=s.group,u=g.active,d=qt===i,f=s.sort,w=P||u,D,y=this,_=!1;if(le)return;function V(j,K){M(j,y,rt({evt:t,isOwner:d,axis:D?"vertical":"horizontal",revert:l,dragRect:a,targetRect:r,canSort:f,fromSortable:w,target:o,completed:L,onMove:function(mt,kt){return se(T,e,c,a,mt,O(mt),t,kt)},changed:Y},K))}function $(){V("dragOverAnimationCapture"),y.captureAnimationState(),y!==w&&w.captureAnimationState()}function L(j){return V("dragOverCompleted",{insertion:j}),j&&(d?u._hideClone():u._showClone(y),y!==w&&(F(c,P?P.options.ghostClass:u.options.ghostClass,!1),F(c,s.ghostClass,!0)),P!==y&&y!==g.active?P=y:y===g.active&&P&&(P=null),w===y&&(y._ignoreWhileAnimating=o),y.animateAll(function(){V("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==w&&(w.animateAll(),w._ignoreWhileAnimating=null)),(o===c&&!c.animated||o===e&&!o.animated)&&(Et=null),!s.dragoverBubble&&!t.rootEl&&o!==document&&(c.parentNode[B]._isOutsideThisEl(t.target),!j&&gt(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),_=!0}function Y(){X=z(c),ut=z(c,s.draggable),k({sortable:y,name:"change",toEl:e,newIndex:X,newDraggableIndex:ut,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),o=Z(o,s.draggable,e,!0),V("dragOver"),g.eventCanceled)return _;if(c.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||y._ignoreWhileAnimating===o)return L(!1);if(zt=!1,u&&!s.disabled&&(d?f||(l=!T.contains(c)):P===this||(this.lastPutMode=qt.checkPull(this,u,c,t))&&i.checkPut(this,u,c,t))){if(D=this._getDirection(t,o)==="vertical",a=O(c),V("dragOverValid"),g.eventCanceled)return _;if(l)return I=T,$(),this._hideClone(),V("revert"),g.eventCanceled||(ht?T.insertBefore(c,ht):T.appendChild(c)),L(!0);var W=ee(e,s.draggable);if(!W||Mn(t,D,this)&&!W.animated){if(W===c)return L(!1);if(W&&e===t.target&&(o=W),o&&(r=O(o)),se(T,e,c,a,o,r,t,!!o)!==!1)return $(),e.appendChild(c),I=e,Y(),L(!0)}else if(o.parentNode===e){r=O(o);var H=0,J,ct=c.parentNode!==e,ot=!Nn(c.animated&&c.toRect||a,o.animated&&o.toRect||r,D),R=D?"top":"left",G=Le(o,"top","top")||Le(c,"top","top"),ft=G?G.scrollTop:void 0;Et!==o&&(J=r[R],Nt=!1,jt=!ot&&s.invertSwap||ct),H=Fn(t,o,r,D,ot?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,jt,Et===o);var q;if(H!==0){var h=z(c);do h-=H,q=I.children[h];while(q&&(p(q,"display")==="none"||q===m))}if(H===0||q===o)return L(!1);Et=o,Pt=H;var v=o.nextElementSibling,b=!1;b=H===1;var C=se(T,e,c,a,o,r,t,b);if(C!==!1)return(C===1||C===-1)&&(b=C===1),le=!0,setTimeout(Vn,30),$(),b&&!v?e.appendChild(c):o.parentNode.insertBefore(c,b?v:o),G&&Ve(G,0,ft-G.scrollTop),I=c.parentNode,J!==void 0&&!jt&&(Ut=Math.abs(J-O(o)[R])),Y(),L(!0)}if(e.contains(c))return L(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){E(document,"mousemove",this._onTouchMove),E(document,"touchmove",this._onTouchMove),E(document,"pointermove",this._onTouchMove),E(document,"dragover",gt),E(document,"mousemove",gt),E(document,"touchmove",gt)},_offUpEvents:function(){var t=this.el.ownerDocument;E(t,"mouseup",this._onDrop),E(t,"touchend",this._onDrop),E(t,"pointerup",this._onDrop),E(t,"touchcancel",this._onDrop),E(document,"selectstart",this)},_onDrop:function(t){var e=this.el,o=this.options;if(X=z(c),ut=z(c,o.draggable),M("drop",this,{evt:t}),I=c&&c.parentNode,X=z(c),ut=z(c,o.draggable),g.eventCanceled){this._nulling();return}yt=!1,jt=!1,Nt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ce(this.cloneId),ce(this._dragStartId),this.nativeDraggable&&(E(document,"drop",this),E(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Tt&&p(document.body,"user-select",""),p(c,"transform",""),t&&(Ot&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),m&&m.parentNode&&m.parentNode.removeChild(m),(T===I||P&&P.lastPutMode!=="clone")&&x&&x.parentNode&&x.parentNode.removeChild(x),c&&(this.nativeDraggable&&E(c,"dragend",this),ue(c),c.style["will-change"]="",Ot&&!yt&&F(c,P?P.options.ghostClass:this.options.ghostClass,!1),F(c,this.options.chosenClass,!1),k({sortable:this,name:"unchoose",toEl:I,newIndex:null,newDraggableIndex:null,originalEvent:t}),T!==I?(X>=0&&(k({rootEl:I,name:"add",toEl:I,fromEl:T,originalEvent:t}),k({sortable:this,name:"remove",toEl:I,originalEvent:t}),k({rootEl:I,name:"sort",toEl:I,fromEl:T,originalEvent:t}),k({sortable:this,name:"sort",toEl:I,originalEvent:t})),P&&P.save()):X!==wt&&X>=0&&(k({sortable:this,name:"update",toEl:I,originalEvent:t}),k({sortable:this,name:"sort",toEl:I,originalEvent:t})),g.active&&((X==null||X===-1)&&(X=wt,ut=At),k({sortable:this,name:"end",toEl:I,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){M("nulling",this),T=c=I=m=ht=x=Ht=st=pt=U=Ot=X=ut=wt=At=Et=Pt=P=qt=g.dragged=g.ghost=g.clone=g.active=null,$t.forEach(function(t){t.checked=!0}),$t.length=ae=ie=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":c&&(this._onDragOver(t),kn(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,o=this.el.children,a=0,r=o.length,l=this.options;a<r;a++)e=o[a],Z(e,l.draggable,this.el,!1)&&t.push(e.getAttribute(l.dataIdAttr)||Xn(e));return t},sort:function(t,e){var o={},a=this.el;this.toArray().forEach(function(r,l){var s=a.children[l];Z(s,this.options.draggable,a,!1)&&(o[r]=s)},this),e&&this.captureAnimationState(),t.forEach(function(r){o[r]&&(a.removeChild(o[r]),a.appendChild(o[r]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return Z(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var o=this.options;if(e===void 0)return o[t];var a=It.modifyOption(this,t,e);typeof a!="undefined"?o[t]=a:o[t]=e,t==="group"&&He(o)},destroy:function(){M("destroy",this);var t=this.el;t[B]=null,E(t,"mousedown",this._onTapStart),E(t,"touchstart",this._onTapStart),E(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(E(t,"dragover",this),E(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Gt.splice(Gt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!st){if(M("hideClone",this),g.eventCanceled)return;p(x,"display","none"),this.options.removeCloneOnHide&&x.parentNode&&x.parentNode.removeChild(x),st=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(st){if(M("showClone",this),g.eventCanceled)return;c.parentNode==T&&!this.options.group.revertClone?T.insertBefore(x,c):ht?T.insertBefore(x,ht):T.appendChild(x),this.options.group.revertClone&&this.animate(c,x),p(x,"display",""),st=!1}}};function kn(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function se(n,t,e,o,a,r,l,s){var i,u=n[B],d=u.options.onMove,f;return window.CustomEvent&&!nt&&!Dt?i=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(i=document.createEvent("Event"),i.initEvent("move",!0,!0)),i.to=t,i.from=n,i.dragged=e,i.draggedRect=o,i.related=a||t,i.relatedRect=r||O(t),i.willInsertAfter=s,i.originalEvent=l,n.dispatchEvent(i),d&&(f=d.call(u,i,l)),f}function ue(n){n.draggable=!1}function Vn(){le=!1}function Mn(n,t,e){var o=O(ee(e.el,e.options.draggable)),a=10;return t?n.clientX>o.right+a||n.clientX<=o.right&&n.clientY>o.bottom&&n.clientX>=o.left:n.clientX>o.right&&n.clientY>o.top||n.clientX<=o.right&&n.clientY>o.bottom+a}function Fn(n,t,e,o,a,r,l,s){var i=o?n.clientY:n.clientX,u=o?e.height:e.width,d=o?e.top:e.left,f=o?e.bottom:e.right,w=!1;if(!l){if(s&&Ut<u*a){if(!Nt&&(Pt===1?i>d+u*r/2:i<f-u*r/2)&&(Nt=!0),Nt)w=!0;else if(Pt===1?i<d+Ut:i>f-Ut)return-Pt}else if(i>d+u*(1-a)/2&&i<f-u*(1-a)/2)return Bn(t)}return w=w||l,w&&(i<d+u*r/2||i>f-u*r/2)?i>d+u/2?1:-1:0}function Bn(n){return z(c)<z(n)?1:-1}function Xn(n){for(var t=n.tagName+n.className+n.src+n.href+n.textContent,e=t.length,o=0;e--;)o+=t.charCodeAt(e);return o.toString(36)}function Yn(n){$t.length=0;for(var t=n.getElementsByTagName("input"),e=t.length;e--;){var o=t[e];o.checked&&$t.push(o)}}function Jt(n){return setTimeout(n,0)}function ce(n){return clearTimeout(n)}Zt&&S(document,"touchmove",function(n){(g.active||yt)&&n.cancelable&&n.preventDefault()}),g.utils={on:S,off:E,css:p,find:Ne,is:function(t,e){return!!Z(t,e,t,!1)},extend:Dn,throttle:ke,closest:Z,toggleClass:F,clone:Me,index:z,nextTick:Jt,cancelNextTick:ce,detectDirection:We,getChild:Wt},g.get=function(n){return n[B]},g.mount=function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(g.utils=rt({},g.utils,o.utils)),It.mount(o)})},g.create=function(n,t){return new g(n,t)},g.version=En;var A=[],Lt,fe,de=!1,he,pe,Kt,Rt;function Wn(){function n(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return n.prototype={dragStarted:function(e){var o=e.originalEvent;this.sortable.nativeDraggable?S(document,"dragover",this._handleAutoScroll):this.options.supportPointer?S(document,"pointermove",this._handleFallbackAutoScroll):o.touches?S(document,"touchmove",this._handleFallbackAutoScroll):S(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var o=e.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?E(document,"dragover",this._handleAutoScroll):(E(document,"pointermove",this._handleFallbackAutoScroll),E(document,"touchmove",this._handleFallbackAutoScroll),E(document,"mousemove",this._handleFallbackAutoScroll)),Ge(),te(),Tn()},nulling:function(){Kt=fe=Lt=de=Rt=he=pe=null,A.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,o){var a=this,r=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,s=document.elementFromPoint(r,l);if(Kt=e,o||Dt||nt||Tt){ge(e,this.options,s,o);var i=lt(s,!0);de&&(!Rt||r!==he||l!==pe)&&(Rt&&Ge(),Rt=setInterval(function(){var u=lt(document.elementFromPoint(r,l),!0);u!==i&&(i=u,te()),ge(e,a.options,u,o)},10),he=r,pe=l)}else{if(!this.options.bubbleScroll||lt(s,!0)===Q()){te();return}ge(e,this.options,lt(s,!1),!1)}}},tt(n,{pluginName:"scroll",initializeByDefault:!0})}function te(){A.forEach(function(n){clearInterval(n.pid)}),A=[]}function Ge(){clearInterval(Rt)}var ge=ke(function(n,t,e,o){if(!!t.scroll){var a=(n.touches?n.touches[0]:n).clientX,r=(n.touches?n.touches[0]:n).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,i=Q(),u=!1,d;fe!==e&&(fe=e,te(),Lt=t.scroll,d=t.scrollFn,Lt===!0&&(Lt=lt(e,!0)));var f=0,w=Lt;do{var D=w,y=O(D),_=y.top,V=y.bottom,$=y.left,L=y.right,Y=y.width,W=y.height,H=void 0,J=void 0,ct=D.scrollWidth,ot=D.scrollHeight,R=p(D),G=D.scrollLeft,ft=D.scrollTop;D===i?(H=Y<ct&&(R.overflowX==="auto"||R.overflowX==="scroll"||R.overflowX==="visible"),J=W<ot&&(R.overflowY==="auto"||R.overflowY==="scroll"||R.overflowY==="visible")):(H=Y<ct&&(R.overflowX==="auto"||R.overflowX==="scroll"),J=W<ot&&(R.overflowY==="auto"||R.overflowY==="scroll"));var q=H&&(Math.abs(L-a)<=l&&G+Y<ct)-(Math.abs($-a)<=l&&!!G),h=J&&(Math.abs(V-r)<=l&&ft+W<ot)-(Math.abs(_-r)<=l&&!!ft);if(!A[f])for(var v=0;v<=f;v++)A[v]||(A[v]={});(A[f].vx!=q||A[f].vy!=h||A[f].el!==D)&&(A[f].el=D,A[f].vx=q,A[f].vy=h,clearInterval(A[f].pid),(q!=0||h!=0)&&(u=!0,A[f].pid=setInterval(function(){o&&this.layer===0&&g.active._onTouchMove(Kt);var b=A[this.layer].vy?A[this.layer].vy*s:0,C=A[this.layer].vx?A[this.layer].vx*s:0;typeof d=="function"&&d.call(g.dragged.parentNode[B],C,b,n,Kt,A[this.layer].el)!=="continue"||Ve(A[this.layer].el,C,b)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&w!==i&&(w=lt(w,!1)));de=u}},30),je=function(t){var e=t.originalEvent,o=t.putSortable,a=t.dragEl,r=t.activeSortable,l=t.dispatchSortableEvent,s=t.hideGhostForTarget,i=t.unhideGhostForTarget;if(!!e){var u=o||r;s();var d=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,f=document.elementFromPoint(d.clientX,d.clientY);i(),u&&!u.el.contains(f)&&(l("spill"),this.onSpill({dragEl:a,putSortable:o}))}};function me(){}me.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var a=Wt(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(e,a):this.sortable.el.appendChild(e),this.sortable.animateAll(),o&&o.animateAll()},drop:je},tt(me,{pluginName:"revertOnSpill"});function ve(){}ve.prototype={onSpill:function(t){var e=t.dragEl,o=t.putSortable,a=o||this.sortable;a.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),a.animateAll()},drop:je},tt(ve,{pluginName:"removeOnSpill"}),g.mount(new Wn),g.mount(ve,me);var be={name:"layoutNavbarsTagsView",components:{Contextmenu:vn},setup(){const{proxy:n}=cn(),t=Bt([]),e=Bt(),o=Bt(),a=Bt(),r=Je(),l=Ke(),s=tn(),i=en({routePath:l.path,dropdown:{x:"",y:""},tagsRefsIndex:0,tagsViewList:[],sortable:"",tagsViewRoutesList:[]}),u=Ce(()=>r.state.themeConfig.themeConfig),d=Ce(()=>r.state.themeConfig.themeConfig.tagsStyle),f=h=>{Ft.set("tagsViewList",h)},w=()=>{i.routePath=l.path,i.tagsViewList=[],r.state.themeConfig.themeConfig.isCacheTagsView||Ft.remove("tagsViewList"),i.tagsViewRoutesList=r.state.tagsViewRoutes.tagsViewRoutes,D()},D=()=>{Ft.get("tagsViewList")&&r.state.themeConfig.themeConfig.isCacheTagsView?i.tagsViewList=Ft.get("tagsViewList"):(i.tagsViewRoutesList.map(h=>{h.meta.isAffix&&!h.meta.isHide&&i.tagsViewList.push(dt({},h))}),y(l.path)),ft(l.path),G()},y=(h,v)=>{if(i.tagsViewList.some(C=>C.path===h))return!1;const b=i.tagsViewRoutesList.find(C=>C.path===h);if(b.meta.isLink&&!b.meta.isIframe)return!1;b.query=v&&v.query?v.query:l.query,i.tagsViewList.push(dt({},b)),f(i.tagsViewList)},_=h=>{n.mittBus.emit("onTagsViewRefreshRouterView",h)},V=h=>{i.tagsViewList.map((v,b,C)=>{v.meta.isAffix||v.path===h&&(i.tagsViewList.splice(b,1),setTimeout(()=>{i.tagsViewList.length===b?s.push({path:C[C.length-1].path,query:C[C.length-1].query}):s.push({path:C[b].path,query:C[b].query})},0))}),f(i.tagsViewList)},$=h=>{i.tagsViewList=[],i.tagsViewRoutesList.map(v=>{v.meta.isAffix&&!v.meta.isHide&&i.tagsViewList.push(dt({},v))}),y(h)},L=h=>{i.tagsViewList=[],i.tagsViewRoutesList.map(v=>{v.meta.isAffix&&!v.meta.isHide&&(i.tagsViewList.push(dt({},v)),i.tagsViewList.some(b=>b.path===h)?s.push({path:h,query:l.query}):s.push({path:v.path,query:l.query}))}),f(i.tagsViewList)},Y=h=>{const v=i.tagsViewList.find(b=>b.path===h);De(()=>{s.push({path:h,query:v.query});const b=document.querySelector(".layout-main");mn.request(b)})},W=h=>{let{id:v,path:b}=h,C=i.tagsViewList.find(j=>j.path===b);switch(v){case 0:_(b),s.push({path:b,query:C.query});break;case 1:V(b);break;case 2:s.push({path:b,query:C.query}),$(b);case 3:L(b);break;case 4:Y(b)}},H=h=>h===i.routePath,J=(h,v)=>{const{clientX:b,clientY:C}=v;i.dropdown.x=b,i.dropdown.y=C,o.value.openContextmenu(h)},ct=(h,v)=>{i.routePath=h.path,i.tagsRefsIndex=v,s.push(h)},ot=()=>{n.$refs.scrollbarRef.update()},R=h=>{n.$refs.scrollbarRef.$refs.wrap.scrollLeft+=h.wheelDelta/4},G=()=>{De(()=>{if(t.value.length<=0)return!1;let h=t.value[i.tagsRefsIndex],v=i.tagsRefsIndex,b=t.value.length,C=t.value[0],j=t.value[t.value.length-1],K=n.$refs.scrollbarRef.$refs.wrap,we=K.scrollWidth,mt=K.offsetWidth,kt=K.scrollLeft,ye=t.value[i.tagsRefsIndex-1],Ee=t.value[i.tagsRefsIndex+1],Vt="",Mt="";h===C?K.scrollLeft=0:h===j?K.scrollLeft=we-mt:(v===0?Vt=C.offsetLeft-5:Vt=ye&&ye.offsetLeft-5,v===b?Mt=j.offsetLeft+j.offsetWidth+5:Mt=Ee.offsetLeft+Ee.offsetWidth+5,Mt>kt+mt?K.scrollLeft=Mt-mt:Vt<kt&&(K.scrollLeft=Vt)),ot()})},ft=h=>{i.tagsViewList.length>0&&(i.tagsRefsIndex=i.tagsViewList.findIndex(v=>v.path===h))},q=()=>{const h=document.querySelector(".layout-navbars-tagsview-ul");if(!h)return!1;u.value.isSortableTagsView||i.sortable&&i.sortable.destory(),u.value.isSortableTagsView&&(i.sortable=g.create(h,{animation:300,dadaIdAtte:"data-name",onEnd:()=>{const v=[];i.sortable.toArray().map(b=>{i.tagsView.map(C=>{C.name===b&&v.push(dt({},C))})}),f(v)}}))};return nn(r.state,h=>{if(h.tagsViewRoutes.tagsViewRoutes.length===i.tagsViewRoutesList.length)return!1;w()}),on(()=>{n.mittBus.on("onCurrentContextmenuClick",h=>{W(h)}),n.mittBus.on("openOrCloseSortable",()=>{q()})}),an(()=>{n.mittBus.off("onCurrentContextmenuClick"),n.mittBus.off("openOrCloseSortable")}),rn(()=>{t.value=[]}),ln(()=>{w(),q()}),sn(h=>{i.routePath=h.path,y(h.path,h),ft(h.path),G()}),dt({isActive:H,onContextmenu:J,onTagsClick:ct,getTagsViewRoutes:w,tagsRefs:t,contextmenuRef:o,scrollbarRef:e,tagsUlRef:a,onHandleScroll:R,refreshCurrentTagsView:_,closeCurrentTagsView:V,onCurrentContextmenuClick:W,setTagsStyle:d,getThemeConfig:u},un(i))}},Zn=`.layout-navbars-tagsview[data-v-b2a89e66] {
  flex: 1;
  background-color: #ffffff;
  border-bottom: 1px solid #f1f2f3;
}
.layout-navbars-tagsview[data-v-b2a89e66] .el-scrollbar__wrap {
  overflow-x: auto !important;
}
.layout-navbars-tagsview-ul[data-v-b2a89e66] {
  list-style: none;
  margin: 0;
  padding: 0;
  height: 34px;
  display: flex;
  align-items: center;
  color: #606266;
  font-size: 12px;
  white-space: nowrap;
  padding: 0 15px;
}
.layout-navbars-tagsview-ul-li[data-v-b2a89e66] {
  height: 26px;
  line-height: 26px;
  display: flex;
  align-items: center;
  border: 1px solid #e6e6e6;
  padding: 0 15px;
  margin-right: 5px;
  border-radius: 2px;
  position: relative;
  z-index: 0;
  cursor: pointer;
  justify-content: space-between;
}
.layout-navbars-tagsview-ul-li[data-v-b2a89e66]:hover {
  background-color: var(--color-primary-light-9);
  color: var(--color-primary);
  border-color: var(--color-primary-light-6);
}
.layout-navbars-tagsview-ul-li-iconfont[data-v-b2a89e66] {
  position: relative;
  left: -5px;
  font-size: 12px;
}
.layout-navbars-tagsview-ul-li-icon[data-v-b2a89e66] {
  border-radius: 100%;
  position: relative;
  height: 14px;
  width: 14px;
  text-align: center;
  line-height: 14px;
  right: -5px;
}
.layout-navbars-tagsview-ul-li-icon[data-v-b2a89e66]:hover {
  color: #fff;
  background-color: var(--color-primary-light-3);
}
.layout-navbars-tagsview-ul-li .layout-icon-active[data-v-b2a89e66] {
  display: block;
}
.layout-navbars-tagsview-ul-li .layout-icon-three[data-v-b2a89e66] {
  display: none;
}
.layout-navbars-tagsview-ul .is-active[data-v-b2a89e66] {
  color: #ffffff;
  background: var(--color-primary);
  border-color: var(--color-primary);
}
.layout-navbars-tagsview .tags-style-two .layout-navbars-tagsview-ul-li[data-v-b2a89e66] {
  height: 34px !important;
  line-height: 34px !important;
  border: none !important;
}
.layout-navbars-tagsview .tags-style-two .layout-navbars-tagsview-ul-li .layout-navbars-tagsview-ul-li-iconfont[data-v-b2a89e66] {
  display: none;
}
.layout-navbars-tagsview .tags-style-two .layout-navbars-tagsview-ul-li .layout-icon-active[data-v-b2a89e66] {
  display: none;
}
.layout-navbars-tagsview .tags-style-two .layout-navbars-tagsview-ul-li .layout-icon-three[data-v-b2a89e66] {
  display: block;
}
.layout-navbars-tagsview .tags-style-two .is-active[data-v-b2a89e66] {
  background: none !important;
  color: var(--color-primary) !important;
  border-bottom: 2px solid !important;
  border-color: var(--color-primary) !important;
  border-radius: 0 !important;
}
.layout-navbars-tagsview .tags-style-three .layout-navbars-tagsview-ul-li[data-v-b2a89e66] {
  height: 34px !important;
  line-height: 34px !important;
  border-right: 1px solid #f6f6f6 !important;
  border-top: none !important;
  border-bottom: none !important;
  border-left: none !important;
  border-radius: 0 !important;
  margin-right: 0 !important;
}
.layout-navbars-tagsview .tags-style-three .layout-navbars-tagsview-ul-li[data-v-b2a89e66]:first-of-type {
  border-left: 1px solid #f6f6f6 !important;
}
.layout-navbars-tagsview .tags-style-three .layout-navbars-tagsview-ul-li .layout-icon-active[data-v-b2a89e66] {
  display: none;
}
.layout-navbars-tagsview .tags-style-three .layout-navbars-tagsview-ul-li .layout-icon-three[data-v-b2a89e66] {
  display: block;
}
.layout-navbars-tagsview .tags-style-three .is-active[data-v-b2a89e66] {
  background: white !important;
  color: var(--color-primary) !important;
  border-top: 1px solid !important;
  border-top-color: var(--color-primary) !important;
}
.layout-navbars-tagsview .tags-style-four .layout-navbars-tagsview-ul-li[data-v-b2a89e66] {
  margin-right: 0 !important;
  border: none !important;
  position: relative;
  border-radius: 3px !important;
}
.layout-navbars-tagsview .tags-style-four .layout-navbars-tagsview-ul-li .layout-icon-active[data-v-b2a89e66] {
  display: none;
}
.layout-navbars-tagsview .tags-style-four .layout-navbars-tagsview-ul-li .layout-icon-three[data-v-b2a89e66] {
  display: block;
}
.layout-navbars-tagsview .tags-style-four .layout-navbars-tagsview-ul-li[data-v-b2a89e66]:hover {
  background: none !important;
}
.layout-navbars-tagsview .tags-style-four .is-active[data-v-b2a89e66] {
  background: none !important;
  color: var(--color-primary) !important;
}
.layout-navbars-tagsview-shadow[data-v-b2a89e66] {
  box-shadow: rgba(0, 21, 41, 0.04) 0px 1px 4px;
}`;const Ue=gn();fn("data-v-b2a89e66");const Hn={key:0,class:"iconfont icon-webicon318 layout-navbars-tagsview-ul-li-iconfont font14"};dn();const qn=Ue((n,t,e,o,a,r)=>{const l=Te("el-scrollbar"),s=Te("Contextmenu");return at(),it("div",{class:["layout-navbars-tagsview",{"layout-navbars-tagsview-shadow":o.getThemeConfig.layout==="classic"}]},[_t(l,{ref:"scrollbarRef",onWheel:St(o.onHandleScroll,["prevent"])},{default:Ue(()=>[_t("ul",{class:["layout-navbars-tagsview-ul",o.setTagsStyle],ref:"tagsUlRef"},[(at(!0),it(xe,null,hn(n.tagsViewList,(i,u)=>(at(),it("li",{key:u,class:["layout-navbars-tagsview-ul-li",{"is-active":o.isActive(i.path)}],onClick:d=>o.onTagsClick(i,u),"data-name":i.name,onContextmenu:St(d=>o.onContextmenu(i,d),["prevent"]),ref:d=>{d&&(o.tagsRefs[u]=d)}},[o.isActive(i.path)?(at(),it("i",Hn)):Ct("",!0),!o.isActive(i.path)&&o.getThemeConfig.isTagsviewIcon?(at(),it("i",{key:1,class:["layout-navbars-tagsview-ul-li-iconfont",i.meta.icon]},null,2)):Ct("",!0),_t("span",null,pn(n.$t(i.meta.title)),1),o.isActive(i.path)?(at(),it(xe,{key:2},[_t("i",{class:"el-icon-refresh-right ml5",onClick:St(d=>o.refreshCurrentTagsView(i.path),["stop"])},null,8,["onClick"]),i.meta.isAffix?Ct("",!0):(at(),it("i",{key:0,class:"el-icon-close layout-navbars-tagsview-ul-li-icon layout-icon-active",onClick:St(d=>o.closeCurrentTagsView(i.path),["stop"])},null,8,["onClick"]))],64)):Ct("",!0),i.meta.isAffix?Ct("",!0):(at(),it("i",{key:3,class:"el-icon-close layout-navbars-tagsview-ul-li-icon layout-icon-three",onClick:St(d=>o.closeCurrentTagsView(i.path),["stop"])},null,8,["onClick"]))],42,["onClick","data-name","onContextmenu"]))),128))],2)]),_:1},8,["onWheel"]),_t(s,{dropdown:n.dropdown,ref:"contextmenuRef",onCurrentContextmenuClick:o.onCurrentContextmenuClick},null,8,["dropdown","onCurrentContextmenuClick"])],2)});be.render=qn,be.__scopeId="data-v-b2a89e66";export default be;
