var e=Object.defineProperty,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a;import{u as i}from"./index.26fce307.js";import{x as n,D as s,a as u,z as l,A as f,B as m,t as c,g as h,e as p,f as y,h as g,S as d,w as R,v as b,i as M,E as C}from"./vendor.1cfc7906.js";import k from"./index.bff9935b.js";import w from"./parent.f82e8572.js";import v from"./link.6d7f2771.js";import L from"./iframes.a2d2f8b3.js";var x=n({name:"LayoutMain",components:{Footer:k,LayoutParentView:w,Link:v,Iframes:L},setup(){const{proxy:e}=h(),n=i(),p=s(),y=u({headerHeight:"",currentRouteMeta:{},isShowLink:!1}),g=l((()=>n.state.themeConfig.themeConfig)),d=e=>{y.isShowLink=!1,y.currentRouteMeta=e,setTimeout((()=>{y.isShowLink=!0}),100)};return f((()=>{d(p.meta),(()=>{const{isTagsview:e}=n.state.themeConfig.themeConfig;y.headerHeight=e?"84px":"50px"})()})),m(n.state.themeConfig.themeConfig,(t=>{if(y.headerHeight=t.isTagsview?"84px":"50px",t.isFixedHeaderChange!==t.isFixedHeader){if(!e.$ref.layoutScrollbarRef)return!1;e.$refs.layoutScrollbarRef.update()}})),m((()=>p.path),(()=>{d(p.meta),e.$refs.layoutScrollbarRef.wrap.scrollTop=0})),((e,i)=>{for(var n in i||(i={}))r.call(i,n)&&o(e,n,i[n]);if(t)for(var n of t(i))a.call(i,n)&&o(e,n,i[n]);return e})({getThemeConfig:g,initCurrentRouteMeta:d,onGetCurrentRouteMeta:()=>{d(p.meta)}},c(y))}});x.render=function(e,t,r,a,o,i){const n=p("LayoutParentView"),s=p("Footer"),u=p("el-scrollbar"),l=p("Link"),f=p("Iframes"),m=p("el-main");return y(),g(m,{class:"layout-main"},{default:d((()=>[R(M(u,{class:"layout-scrollbar",ref:"layoutScrollbarRef",style:{minHeight:`calc(100vh - ${e.headerHeight}`}},{default:d((()=>[M(n),e.getThemeConfig.isFooter?(y(),g(s,{key:0})):C("",!0)])),_:1},8,["style"]),[[b,!e.currentRouteMeta.isLink&&!e.currentRouteMeta.isIframe]]),e.currentRouteMeta.isLink&&!e.currentRouteMeta.isIframe?(y(),g(l,{key:0,style:{height:`calc(100vh - ${e.headerHeight}`},meta:e.currentRouteMeta},null,8,["style","meta"])):C("",!0),e.currentRouteMeta.isLink&&e.currentRouteMeta.isIframe&&e.isShowLink?(y(),g(f,{key:1,style:{height:`calc(100vh - ${e.headerHeight}`},meta:e.currentRouteMeta,onGetCurrentRouteMeta:e.onGetCurrentRouteMeta},null,8,["style","meta","onGetCurrentRouteMeta"])):C("",!0)])),_:1})};export default x;
