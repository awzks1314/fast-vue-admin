var e=Object.defineProperty,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(t,s,i)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i;import l from"./vertical.99ae5d74.js";import{u as a}from"./index.26fce307.js";import n from"./index.ce9d26e2.js";import{a as r,z as u,B as f,A as d,b as m,t as c,g as h,e as g,f as C,h as y,S as p,E as L,i as b}from"./vendor.1cfc7906.js";import"./subItem.ea1d35cf.js";var S={name:"layoutAside",components:{Vertical:l,Logo:n},setup(){const{proxy:e}=h(),l=a(),n=r({menuList:[],clientWidth:0}),g=u((()=>l.state.themeConfig.themeConfig)),C=u((()=>{let{layout:e,isCollapse:t,menuBar:s}=l.state.themeConfig.themeConfig,i="#FFFFFF"===s||"#FFF"===s||"#fff"===s||"#ffffff"===s?"layout-el-aside-br-color":"";return"columns"===e?t?["layout-aside-width1",i]:["layout-aside-width-default",i]:t?["layout-aside-width64",i]:["layout-aside-width-default",i]})),y=u((()=>{let{layout:e,isShowLogo:t}=l.state.themeConfig.themeConfig;return t&&"defaults"===e||t&&"columns"===e})),p=()=>{if("columns"===l.state.themeConfig.themeConfig.layout)return!1;n.menuList=L(l.state.routesList.routesList)},L=e=>e.filter((e=>!e.meta.isHide)).map((e=>((e=Object.assign({},e)).children&&(e.children=L(e.children)),e))),b=e=>{n.clientWidth=e};return f(l.state.themeConfig.themeConfig,(t=>{if(t.isShowLogoChange!=t.isShowLogo){if(!e.$refs.layoutAsideScrollbarRef)return!1;e.$refs.layoutAsideScrollbarRef.update()}})),f(l.state,(e=>{if(e.routesList.routesList.length===n.menuList.length)return!1;let{layout:t,isClassicSplitMenu:s}=e.themeConfig.themeConfig;if("classic"===t&&s)return!1;p()})),d((()=>{b(document.body.clientWidth),p(),e.mittBus.on("setSendColumnsChildren",(e=>{n.menuList=e.children})),e.mittBus.on("setSendClassicChildren",(e=>{let{layout:t,isClassicSplitMenu:s}=l.state.themeConfig.themeConfig;"classic"===t&&s&&(n.menuList=[],n.menuList=e.children)})),e.mittBus.on("getBreadcrumbIndexSetFilterRoutes",(()=>{p()})),e.mittBus.on("layoutMobileResize",(e=>{b(e.clientWidth)}))})),m((()=>{e.mittBus.off("setSendColumnsChildren"),e.mittBus.off("setSendClassicChildren"),e.mittBus.off("getBreadcrumbIndexSetFilterRoutes"),e.mittBus.off("layoutMobileResize")})),((e,l)=>{for(var a in l||(l={}))s.call(l,a)&&o(e,a,l[a]);if(t)for(var a of t(l))i.call(l,a)&&o(e,a,l[a]);return e})({setShowLogo:y,setCollapseWidth:C,getThemeConfig:g},c(n))}};S.render=function(e,t,s,i,o,l){const a=g("Logo"),n=g("Vertical"),r=g("el-scrollbar"),u=g("el-aside"),f=g("el-drawer");return e.clientWidth>1e3?(C(),y(u,{key:0,class:["layout-aside",i.setCollapseWidth]},{default:p((()=>[i.setShowLogo?(C(),y(a,{key:0})):L("",!0),b(r,{class:"flex-auto",ref:"layoutAsideScrollbarRef"},{default:p((()=>[b(n,{menuList:e.menuList,class:i.setCollapseWidth},null,8,["menuList","class"])])),_:1},512)])),_:1},8,["class"])):(C(),y(f,{key:1,modelValue:i.getThemeConfig.isCollapse,"onUpdate:modelValue":t[1]||(t[1]=e=>i.getThemeConfig.isCollapse=e),"with-header":!1,direction:"ltr",size:"220px"},{default:p((()=>[b(u,{class:"layout-aside w100 h100"},{default:p((()=>[i.setShowLogo?(C(),y(a,{key:0})):L("",!0),b(r,{class:"flex-auto",ref:"layoutAsideScrollbarRef"},{default:p((()=>[b(n,{menuList:e.menuList},null,8,["menuList"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"]))};export default S;
