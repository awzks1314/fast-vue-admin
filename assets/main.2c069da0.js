var _=Object.defineProperty;var p=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var d=(e,r,t)=>r in e?_(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,g=(e,r)=>{for(var t in r||(r={}))H.call(r,t)&&d(e,t,r[t]);if(p)for(var t of p(r))L.call(r,t)&&d(e,t,r[t]);return e};import{u as $}from"./index.70b52c15.js";import{x as b,D as S,a as F,z as T,A as v,B as R,t as I,g as j,e as s,f as u,h as c,S as y,w as V,v as B,i as C,E as f}from"./vendor.445db117.js";import G from"./index.660abd3f.js";import x from"./parent.58a3135d.js";import P from"./link.e0fbc04b.js";import D from"./iframes.4fc6a55d.js";var w=b({name:"LayoutMain",components:{Footer:G,LayoutParentView:x,Link:P,Iframes:D},setup(){const{proxy:e}=j(),r=$(),t=S(),a=F({headerHeight:"",currentRouteMeta:{},isShowLink:!1}),h=T(()=>r.state.themeConfig.themeConfig),l=()=>{n(t.meta)},n=o=>{a.isShowLink=!1,a.currentRouteMeta=o,setTimeout(()=>{a.isShowLink=!0},100)},m=()=>{const{isTagsview:o,isFooter:i}=r.state.themeConfig.themeConfig;return o&&!i?a.headerHeight="100px":o&&i?a.headerHeight="160px":!o&&i?a.headerHeight="120px":a.headerHeight="60px"};return v(()=>{n(t.meta),m()}),R(r.state.themeConfig.themeConfig,o=>{if(a.headerHeight=o.isTagsview&&o.isFooter?"160px":o.isTagsview&&!o.isFooter?"100px":!o.isTagsview&&o.isFooter?"120px":"60px",o.isFixedHeaderChange!==o.isFixedHeader){if(!e.$ref.layoutScrollbarRef)return!1;e.$refs.layoutScrollbarRef.update()}}),R(()=>t.path,()=>{n(t.meta),e.$refs.layoutScrollbarRef.wrap.scrollTop=0}),g({getThemeConfig:h,initCurrentRouteMeta:n,onGetCurrentRouteMeta:l},I(a))}});function N(e,r,t,a,h,l){const n=s("LayoutParentView"),m=s("el-scrollbar"),o=s("Footer"),i=s("Link"),M=s("Iframes"),k=s("el-main");return u(),c(k,{class:"layout-main"},{default:y(()=>[V(C(m,{class:"layout-scrollbar",ref:"layoutScrollbarRef",style:{minHeight:`calc(100vh - ${e.headerHeight}`}},{default:y(()=>[C(n)]),_:1},8,["style"]),[[B,!e.currentRouteMeta.isLink&&!e.currentRouteMeta.isIframe]]),e.getThemeConfig.isFooter?(u(),c(o,{key:0})):f("",!0),e.currentRouteMeta.isLink&&!e.currentRouteMeta.isIframe?(u(),c(i,{key:1,style:{height:`calc(100vh - ${e.headerHeight}`},meta:e.currentRouteMeta},null,8,["style","meta"])):f("",!0),e.currentRouteMeta.isLink&&e.currentRouteMeta.isIframe&&e.isShowLink?(u(),c(M,{key:2,style:{height:`calc(100vh - ${e.headerHeight}`},meta:e.currentRouteMeta,onGetCurrentRouteMeta:e.onGetCurrentRouteMeta},null,8,["style","meta","onGetCurrentRouteMeta"])):f("",!0)]),_:1})}w.render=N;export default w;
