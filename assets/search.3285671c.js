var V=Object.defineProperty;var S=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var w=(e,o,t)=>o in e?V(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,p=(e,o)=>{for(var t in o||(o={}))_.call(o,t)&&w(e,t,o[t]);if(S)for(var t of S(o))v.call(o,t)&&w(e,t,o[t]);return e};import{u as y}from"./index.70b52c15.js";import{x as L,r as b,X as B,a as k,t as C,n as I,p as R,d as $,e as g,f as x,h as H,i as u,k as Q,l as T,q as j}from"./vendor.445db117.js";var h=L({name:"LayoutBreadcrumbSearch",setup(){const e=b(),o=y(),t=B(),s=k({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),f=()=>{s.menuQuery="",s.isShowSearch=!0,n(),I(()=>{e.value.focus()})},r=()=>{s.isShowSearch=!1},i=(a,l)=>{const c=a?s.tagsViewList.filters(d(a)):s.tagsViewList;l(c)},d=a=>l=>l.path.toLowerCase().indexOf(a.toLowerCase())>-1||l.meta.title.toLowerCase().indexOf(a.toLowerCase())>-1,n=()=>{if(s.tagsViewList.length>0)return!1;o.state.tagsViewRoutes.tagsViewRoutes.map(a=>{a.meta.isHide||s.tagsViewList.push(p({},a))})};return p({layoutMenuAutocompleteRef:e,menuSearch:i,onSearchBlur:()=>{r()},onHandleSelect:a=>{const{path:l,redirect:c}=a;a.meta.isLink&&!a.meta.isIframe?window.open(a.meta.link):c?t.push(c):t.push(l),r()},openSearch:f,closeSearch:r},C(s))}}),F=`.layout-search-dialog[data-v-178c0f5e] .el-dialog {
  box-shadow: unset !important;
  border-radius: 0 !important;
  background: rgba(0, 0, 0, 0.5);
}
.layout-search-dialog[data-v-178c0f5e] .el-autocomplete {
  width: 560px;
  position: absolute;
  top: 100px;
  left: 50%;
  transform: translateX(-50%);
}`;const m=j();R("data-v-178c0f5e");const A={class:"layout-search-dialog"};$();const M=m((e,o,t,s,f,r)=>{const i=g("el-autocomplete"),d=g("el-dialog");return x(),H("div",A,[u(d,{modelValue:e.isShowSearch,"onUpdate:modelValue":o[2]||(o[2]=n=>e.isShowSearch=n),width:"300px","destroy-on-close":"",modal:!1,fullscreen:"","show-close":!1},{default:m(()=>[u(i,{modelValue:e.menuQuery,"onUpdate:modelValue":o[1]||(o[1]=n=>e.menuQuery=n),"fetch-suggestions":e.menuSearch,placeholder:e.$t("message.user.searchPlaceholder"),"prefix-icon":"el-icon-search",ref:"layoutMenuAutocompleteRef",onSelect:e.onHandleSelect,onBlur:e.onSearchBlur},{default:m(({item:n})=>[u("div",null,[u("i",{class:[n.meta.icon,"mr10"]},null,2),Q(T(e.$t(n.meta.title)),1)])]),_:1},8,["modelValue","fetch-suggestions","placeholder","onSelect","onBlur"])]),_:1},8,["modelValue"])])});h.render=M,h.__scopeId="data-v-178c0f5e";export default h;
