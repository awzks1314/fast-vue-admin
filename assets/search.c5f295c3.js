var e=Object.defineProperty,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(a,t,o)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o,r=(e,r)=>{for(var l in r||(r={}))t.call(r,l)&&s(e,l,r[l]);if(a)for(var l of a(r))o.call(r,l)&&s(e,l,r[l]);return e};import{u as l}from"./index.26fce307.js";import{x as n,r as c,X as u,a as i,t as d,n as m,p as h,d as p,e as f,f as w,h as S,i as g,k as y,l as V,q as b}from"./vendor.1cfc7906.js";var v=n({name:"LayoutBreadcrumbSearch",setup(){const e=c(),a=l(),t=u(),o=i({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),s=()=>{o.isShowSearch=!1},n=e=>a=>a.path.toLowerCase().indexOf(e.toLowerCase())>-1||a.meta.title.toLowerCase().indexOf(e.toLowerCase())>-1,h=()=>{if(o.tagsViewList.length>0)return!1;a.state.tagsViewRoutes.tagsViewRoutes.map((e=>{e.meta.isHide||o.tagsViewList.push(r({},e))}))};return r({layoutMenuAutocompleteRef:e,menuSearch:(e,a)=>{a(e?o.tagsViewList.filters(n(e)):o.tagsViewList)},onSearchBlur:()=>{s()},onHandleSelect:e=>{const{path:a,redirect:o}=e;e.meta.isLink&&!e.meta.isIframe?window.open(e.meta.link):o?t.push(o):t.push(a),s()},openSearch:()=>{o.menuQuery="",o.isShowSearch=!0,h(),m((()=>{e.value.focus()}))},closeSearch:s},d(o))}});const L=b();h("data-v-45bd519e");const O={class:"layout-search-dialog"};p();const x=L(((e,a,t,o,s,r)=>{const l=f("el-autocomplete"),n=f("el-dialog");return w(),S("div",O,[g(n,{modelValue:e.isShowSearch,"onUpdate:modelValue":a[2]||(a[2]=a=>e.isShowSearch=a),width:"300px","destroy-on-close":"",modal:!1,fullscreen:"","show-close":!1},{default:L((()=>[g(l,{modelValue:e.menuQuery,"onUpdate:modelValue":a[1]||(a[1]=a=>e.menuQuery=a),"fetch-suggestions":e.menuSearch,placeholder:e.$t("message.user.searchPlaceholder"),"prefix-icon":"el-icon-search",ref:"layoutMenuAutocompleteRef",onSelect:e.onHandleSelect,onBlur:e.onSearchBlur},{default:L((({item:a})=>[g("div",null,[g("i",{class:[a.meta.icon,"mr10"]},null,2),y(V(e.$t(a.meta.title)),1)])])),_:1},8,["modelValue","fetch-suggestions","placeholder","onSelect","onBlur"])])),_:1},8,["modelValue"])])}));v.render=x,v.__scopeId="data-v-45bd519e";export default v;
